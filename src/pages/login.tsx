import { useEffect } from 'react';

import { useNavigate } from 'react-router-dom';

import { PrimaryButton } from '../components/Button';

const LoginButton = () => {
  const navigate = useNavigate();
  const userID = localStorage.getItem('userId');
  const userINFO = localStorage.getItem('userInfo');

  useEffect(() => {
    if (userID && !userINFO) {
      navigate('/signIn');
    }
    if (userID && userINFO) {
      navigate('/');
    }
  }, []);

  const handleClickButton = () => {
    localStorage.setItem('userId', String(new Date()));
    navigate('/');
  };

  return (
    <div className='z-10 w-full p-4'>
      <PrimaryButton onClick={handleClickButton}>시작하기</PrimaryButton>
    </div>
  );
};

const LoginPage = () => (
  <div className='relative flex h-full flex-col'>
    <div className='grow'>
      <div className='absolute left-[32px] top-[120px] z-20 flex flex-col'>
        <span className='text-[24px]'>바로깅과</span>
        <span className='text-[24px]'>바다로 플로깅 가자</span>
        <div className='z-10 mt-3'>
          <svg
            width='192'
            height='63'
            viewBox='0 0 192 63'
            fill='none'
            xmlns='http://www.w3.org/2000/svg'
          >
            <g clip-path='url(#clip0_68_290)'>
              <path
                d='M18.3634 18.3054C19.7702 18.3054 21.845 18.3795 24.4347 18.5981C24.5094 14.482 24.584 11.3922 24.8042 9.99553C25.3975 4.84957 27.8417 4.62729 31.1703 4.62729C35.3162 4.62729 36.8723 6.24628 37.391 11.0218C37.6858 13.9634 37.6858 17.9312 37.6858 19.6984C37.6858 23.2994 37.6111 28.2268 37.391 33.8136C37.2417 36.6071 37.0962 38.9596 36.9469 40.7972C37.835 41.9716 38.0589 43.6647 38.0589 44.7687C38.0589 48.3698 35.5401 50.4296 32.357 51.6041C27.8417 53.2934 22.2853 53.2231 21.7703 53.2231C18.8821 53.2231 15.6243 53.0008 12.5905 52.4895C7.92599 51.6819 5.0377 49.8443 4.07494 45.1392C3.40698 41.9049 3.26145 38.0075 3.26145 34.6991C3.26145 33.4506 3.26145 30.4349 3.70551 25.7298C3.92941 23.4513 4.22421 21.3174 4.59364 19.4094C1.03739 18.2313 0 15.2156 0 12.2777C0 7.35031 3.25772 4.63099 8.29169 4.63099C13.3257 4.63099 16.8819 6.90944 16.8819 11.7627C16.8819 12.1295 16.8819 12.5704 16.8073 13.0112C16.5834 14.7006 16.5834 16.3937 16.3632 18.3795C17.0312 18.3054 17.6954 18.3054 18.3634 18.3054ZM18.5835 42.0494C19.1022 42.1235 19.6956 42.1235 20.3598 42.1235C21.2479 42.1235 22.804 42.1235 24.9497 41.6085H25.0243C24.6549 39.3301 24.431 34.625 24.3564 29.4049C21.692 29.479 19.6918 29.5531 18.7291 29.5531C17.7663 29.5531 16.8782 29.5531 15.9154 29.479V32.0539C15.9154 33.7433 15.9154 36.3181 16.2102 39.1856C16.4341 41.6122 17.0237 41.8308 18.5798 42.0531L18.5835 42.0494ZM55.4595 35.7994C55.829 41.9012 56.4969 46.899 56.4969 52.1931V53.6639C56.4223 59.3249 53.6833 60.8697 48.9441 60.8697C44.2049 60.8697 41.4659 59.3248 41.3913 53.738V51.9745C41.3913 46.3877 42.5742 38.5224 42.5742 30.4349C42.5742 22.3473 41.3913 14.482 41.3913 8.89521V7.13173C41.4659 1.5449 44.2049 0 48.9441 0C53.6833 0 56.4223 1.5449 56.4969 7.20582V8.75072C56.4969 13.2335 55.9782 17.7941 55.6088 23.0846C56.5716 22.866 57.5343 22.7919 58.6463 22.7919C62.8668 22.7919 65.2364 24.4109 65.2364 28.8937C65.2364 34.9955 63.6057 36.0254 58.3515 36.0254C57.3142 36.0254 56.3514 35.9513 55.4633 35.8068L55.4595 35.7994Z'
                fill='#7FD6E1'
              />
              <path
                d='M76.4126 41.9752C78.4128 41.9752 80.7824 42.4161 83.0773 43.2237C85.7417 44.1054 89.2233 44.7686 93.0744 45.2836C92.9997 43.446 92.9251 42.4161 92.9251 41.827C92.9251 41.312 92.9251 40.723 92.9997 40.208C89.5181 39.9857 86.5589 39.7671 84.8536 39.4745C77.5247 38.1518 75.5245 34.6212 74.9312 31.0942C74.7073 30.1384 74.7073 28.3749 74.7073 27.2709C74.7073 25.9483 74.7819 21.9026 75.7447 19.6983C77.0022 17.053 78.1889 16.464 80.189 16.0972C81.3011 15.949 83.4468 15.7304 83.8908 15.7304C84.7043 15.7304 85.7417 15.8045 86.5552 16.0972C94.2573 16.0231 99.3659 15.949 101.956 15.949C104.545 15.949 106.915 15.949 109.359 16.0231C109.359 15.5081 109.434 15.2896 109.434 14.7746C109.434 13.6706 109.064 12.7888 106.027 12.5702C104.989 12.4962 103.881 12.4962 102.62 12.4962C101.359 12.4962 98.8435 12.4962 94.4737 12.7184C90.104 13.0111 85.5887 13.3816 81.7377 13.6002H81.1443C78.6255 13.6002 75.1476 12.6443 74.5543 8.89509C74.4796 8.52832 74.4796 8.23194 74.4796 7.93926C74.4796 5.87939 75.5917 3.67504 79.8122 3.16007C90.772 1.98565 107.505 2.05605 114.837 3.01188C120.241 3.81953 121.353 6.32026 121.722 9.99542C122.092 13.0815 122.536 18.6683 121.353 21.8322C120.465 24.4071 118.095 25.5074 113.132 25.8001C106.691 26.1668 101.877 26.1668 98.8397 26.1668H93.7311C92.6937 26.2409 91.6563 26.2409 90.6936 26.2409H87.8053C87.7307 26.4632 87.656 26.6818 87.656 26.83V27.4191C87.656 28.964 87.9508 29.7716 90.0256 29.9939C94.7648 30.583 103.724 29.9939 110.389 29.0381C116.535 28.1563 118.755 27.7895 119.569 27.7895C120.457 27.7895 121.345 27.8636 122.457 28.7454C123.864 29.9939 123.864 32.4946 123.864 32.5687C123.864 33.6728 123.569 34.7731 123.271 35.288C121.64 37.5665 117.349 38.5964 114.091 39.1855C112.016 39.5523 109.796 39.7745 107.426 39.9931V41.1675C107.426 42.2716 107.352 43.6683 107.131 45.7985C109.721 45.58 112.091 45.3577 114.166 44.8427C115.054 44.6204 115.942 44.4018 116.83 44.0351C119.42 43.0051 121.2 42.3457 122.162 42.1234C123.125 41.9011 124.163 41.8307 125.271 41.8307C128.898 41.8307 131.712 43.8165 131.712 47.5657C131.712 52.3449 129.712 54.327 126.823 55.5051C122.898 57.2686 117.345 57.6353 112.087 57.6353H106.904C101.646 57.6353 91.2048 55.8719 85.3574 53.3711C83.5811 57.1204 80.2487 58.2948 76.3977 58.2948C70.2517 58.2948 67.1432 55.2087 67.1432 50.2072C67.1432 45.2058 69.8076 41.9752 76.3977 41.9752H76.4126Z'
                fill='#7FD6E1'
              />
              <path
                d='M169.491 8.67292C169.565 9.33608 169.565 10.0696 169.565 10.7328C169.565 12.7926 169.341 15.4379 168.233 18.3795C166.233 23.8922 160.46 31.098 154.904 35.4363C150.534 38.7447 147.795 38.9633 146.612 38.9633C145.205 38.9633 143.873 38.5224 142.616 37.5666C140.615 36.0958 140.47 33.7432 140.47 33.5247C140.47 32.2762 140.989 30.8053 142.69 29.4086C147.65 25.2926 152.762 20.4393 154.982 15.6602C155.206 15.1452 155.352 14.6302 155.352 14.2635C155.352 13.4558 154.833 13.089 153.796 13.089H153.646C150.758 13.3076 146.317 15.0007 142.317 15.3675C141.873 15.4416 141.429 15.4416 140.985 15.4416C139.802 15.4416 137.876 15.5898 136.395 13.8967C135.137 12.5 135.137 10.3697 135.137 10.2215C135.137 9.0471 135.432 7.86898 136.1 6.91314C137.802 4.6347 139.877 4.19383 143.504 3.38618C146.836 2.57854 156.979 1.98947 162.535 2.57854C166.088 2.94531 169.2 5.07927 169.494 8.68033L169.491 8.67292ZM166.972 63C152.161 63 144.537 57.854 144.537 50.137C144.537 41.2418 153.497 36.8293 168.897 36.8293C178.152 36.8293 187.481 39.4746 187.481 44.1056C187.481 44.8391 187.406 45.4282 187.186 45.869C188.742 46.9731 189.705 48.6625 189.705 51.2373C189.705 57.9985 180.745 63 166.972 63ZM175.857 50.0629C175.857 49.3997 175.488 48.6662 174.82 48.003C173.118 47.488 170.23 46.5322 166.972 46.5322C161.27 46.5322 158.68 48.003 158.68 50.0592C158.68 52.1153 161.27 53.5861 166.972 53.5861C172.379 53.5861 175.857 52.4821 175.857 50.0592V50.0629ZM176.894 29.4049V28.4491C176.894 25.4334 178.077 21.9805 178.077 18.3054C178.077 14.6302 176.894 11.2478 176.894 8.08756V7.13173C177.118 1.5449 179.708 0 184.447 0C189.186 0 191.776 1.5449 192 7.20582V8.16166C192 11.1033 190.817 14.7784 190.817 18.3054C190.817 22.0546 192 25.363 192 28.5232V29.479C191.776 35.0659 189.186 36.6108 184.447 36.6108C179.708 36.6108 177.118 35.0659 176.894 29.4049Z'
                fill='#7FD6E1'
              />
            </g>
            <defs>
              <clipPath id='clip0_68_290'>
                <rect width='192' height='63' fill='white' />
              </clipPath>
            </defs>
          </svg>
        </div>
      </div>
      <img
        src='./illust_login.png'
        alt=''
        className='absolute left-0 top-0 h-full w-full'
      />
    </div>

    <div className='flex flex-col gap-2 p-4'>
      <LoginButton />
    </div>
  </div>
);

export default LoginPage;
